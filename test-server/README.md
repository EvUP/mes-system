# MES System

## Описание

MES System - это серверное приложение на Node.js с использованием Express, Sequelize и PostgreSQL для управления производственными процессами.

## Установка и запуск

### 1. Установка зависимостей

```sh
npm install
```

### 2. Настройка переменных окружения

Создайте файл `.env` в корневой директории проекта и добавьте в него следующие параметры:

```env
DB_USER=Имя пользователя
DB_NAME=Название базы данных
DB_PASS=Пароль к базе данных
DB_HOST=Хост базы данных
ACCESS_TOKEN_SECRET=Ключ для JWT-токена
REFRESH_TOKEN_SECRET=Ключ для JWT-токена
PORT=Порт сервера
ORIGIN=URL-адреса, имеющие доступ к серверу записываеться в формате ["https://test1", "http://test2"]
```

### 4. Создание и настройка базы данных

Убедитесь, что PostgreSQL установлен и запущен. Затем выполните команду:

```sh
npm run db
```

Эта команда:

- Удалит существующую БД (если она есть);
- Создаст новую базу данных;
- Применит миграции;
- Заполнит БД начальными данными (сиды).

### 5. Запуск сервера

#### В режиме разработки (с перезапуском при изменениях кода)

```sh
npm run dev
```

#### В режиме продакшена

```sh
npm start
```

### 6. Линтинг и форматирование кода

Для проверки кода на ошибки:

```sh
npm run lint
```

Для автоматического форматирования кода:

```sh
npm run format
```

## Дополнительная информация

- Сервер запускается на порту, указанном в `.env`.
- Разрешены запросы с указанных в `ORIGIN` доменов.
- Используется аутентификация с JWT (требуется ACCESS_TOKEN_SECRET и REFRESH_TOKEN_SECRET).

Если возникли вопросы, проверьте код или обратитесь к разработчику.
